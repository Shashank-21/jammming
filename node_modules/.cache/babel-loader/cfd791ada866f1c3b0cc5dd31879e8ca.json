{"ast":null,"code":"import _toConsumableArray from\"/Users/shashankbr/Desktop/Code/FullStackCareerPath/jammming/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _createForOfIteratorHelper from\"/Users/shashankbr/Desktop/Code/FullStackCareerPath/jammming/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/Users/shashankbr/Desktop/Code/FullStackCareerPath/jammming/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/shashankbr/Desktop/Code/FullStackCareerPath/jammming/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/shashankbr/Desktop/Code/FullStackCareerPath/jammming/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/shashankbr/Desktop/Code/FullStackCareerPath/jammming/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import SearchBar from\"../SearchBar/SearchBar\";import SearchResults from\"../SearchResults/SearchResults\";import Playlist from\"../Playlist/Playlist\";import Spotify from\"../../util/Spotify\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.addTrack=function(track){var _iterator=_createForOfIteratorHelper(_this.state.playlistTracks),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var presentTrack=_step.value;if(track.id===presentTrack.id)return;}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({playlistTracks:[].concat(_toConsumableArray(_this.state.playlistTracks),[track])});};_this.removeTrack=function(track){var tracksToKeep=_this.state.playlistTracks.filter(function(trackToRemove){return track.id!==trackToRemove.id;});_this.setState({playlistTracks:tracksToKeep});};_this.updatePlaylistName=function(name){_this.setState({playlistName:name});};_this.savePlaylist=function(){var trackURIs=_this.state.playlistTracks.map(function(track){return track.uri;});Spotify.savePlaylist(_this.state.playlistName,trackURIs).then(function(){_this.setState({playlistName:\"New Playlist\",playlistTracks:[]});});};_this.search=function(term){Spotify.search(term).then(function(searchResults){_this.setState({searchResults:searchResults});});};_this.state={searchResults:[],playlistName:\"Favourites\",playlistTracks:[]};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Ja\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"mmm\"}),\"ing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:this.search}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-playlist\",children:[/*#__PURE__*/_jsx(SearchResults,{searchResults:this.state.searchResults,onAdd:this.addTrack}),/*#__PURE__*/_jsx(Playlist,{playlistName:this.state.playlistName,playlistTracks:this.state.playlistTracks,onRemove:this.removeTrack,onNameChange:this.updatePlaylistName,onSave:this.savePlaylist})]})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","SearchBar","SearchResults","Playlist","Spotify","App","props","addTrack","track","state","playlistTracks","presentTrack","id","setState","removeTrack","tracksToKeep","filter","trackToRemove","updatePlaylistName","name","playlistName","savePlaylist","trackURIs","map","uri","then","search","term","searchResults","Component"],"sources":["/Users/shashankbr/Desktop/Code/FullStackCareerPath/jammming/src/Components/App/App.js"],"sourcesContent":["import React from \"react\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport SearchResults from \"../SearchResults/SearchResults\";\nimport Playlist from \"../Playlist/Playlist\";\nimport Spotify from \"../../util/Spotify\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: [],\n      playlistName: \"Favourites\",\n      playlistTracks: [],\n    };\n  }\n  addTrack = (track) => {\n    for (let presentTrack of this.state.playlistTracks) {\n      if (track.id === presentTrack.id) return;\n    }\n    this.setState({\n      playlistTracks: [...this.state.playlistTracks, track],\n    });\n  };\n\n  removeTrack = (track) => {\n    const tracksToKeep = this.state.playlistTracks.filter((trackToRemove) => {\n      return track.id !== trackToRemove.id;\n    });\n    this.setState({ playlistTracks: tracksToKeep });\n  };\n\n  updatePlaylistName = (name) => {\n    this.setState({ playlistName: name });\n  };\n\n  savePlaylist = () => {\n    const trackURIs = this.state.playlistTracks.map((track) => track.uri);\n    Spotify.savePlaylist(this.state.playlistName, trackURIs).then(() => {\n      this.setState({ playlistName: \"New Playlist\", playlistTracks: [] });\n    });\n  };\n\n  search = (term) => {\n    Spotify.search(term).then((searchResults) => {\n      this.setState({ searchResults });\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>\n          Ja<span className=\"highlight\">mmm</span>ing\n        </h1>\n        <div className=\"App\">\n          <SearchBar onSearch={this.search} />\n          <div className=\"App-playlist\">\n            <SearchResults\n              searchResults={this.state.searchResults}\n              onAdd={this.addTrack}\n            />\n            <Playlist\n              playlistName={this.state.playlistName}\n              playlistTracks={this.state.playlistTracks}\n              onRemove={this.removeTrack}\n              onNameChange={this.updatePlaylistName}\n              onSave={this.savePlaylist}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"s3BAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CACA,MAAOC,cAAP,KAA0B,gCAA1B,CACA,MAAOC,SAAP,KAAqB,sBAArB,CACA,MAAOC,QAAP,KAAoB,oBAApB,CACA,MAAO,WAAP,C,2FAEMC,I,sGACJ,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MAQnBC,QARmB,CAQR,SAACC,KAAD,CAAW,0CACK,MAAKC,KAAL,CAAWC,cADhB,YACpB,+CAAoD,IAA3CC,aAA2C,aAClD,GAAIH,KAAK,CAACI,EAAN,GAAaD,YAAY,CAACC,EAA9B,CAAkC,OACnC,CAHmB,qDAIpB,MAAKC,QAAL,CAAc,CACZH,cAAc,8BAAM,MAAKD,KAAL,CAAWC,cAAjB,GAAiCF,KAAjC,EADF,CAAd,EAGD,CAfkB,OAiBnBM,WAjBmB,CAiBL,SAACN,KAAD,CAAW,CACvB,GAAMO,aAAY,CAAG,MAAKN,KAAL,CAAWC,cAAX,CAA0BM,MAA1B,CAAiC,SAACC,aAAD,CAAmB,CACvE,MAAOT,MAAK,CAACI,EAAN,GAAaK,aAAa,CAACL,EAAlC,CACD,CAFoB,CAArB,CAGA,MAAKC,QAAL,CAAc,CAAEH,cAAc,CAAEK,YAAlB,CAAd,EACD,CAtBkB,OAwBnBG,kBAxBmB,CAwBE,SAACC,IAAD,CAAU,CAC7B,MAAKN,QAAL,CAAc,CAAEO,YAAY,CAAED,IAAhB,CAAd,EACD,CA1BkB,OA4BnBE,YA5BmB,CA4BJ,UAAM,CACnB,GAAMC,UAAS,CAAG,MAAKb,KAAL,CAAWC,cAAX,CAA0Ba,GAA1B,CAA8B,SAACf,KAAD,QAAWA,MAAK,CAACgB,GAAjB,EAA9B,CAAlB,CACApB,OAAO,CAACiB,YAAR,CAAqB,MAAKZ,KAAL,CAAWW,YAAhC,CAA8CE,SAA9C,EAAyDG,IAAzD,CAA8D,UAAM,CAClE,MAAKZ,QAAL,CAAc,CAAEO,YAAY,CAAE,cAAhB,CAAgCV,cAAc,CAAE,EAAhD,CAAd,EACD,CAFD,EAGD,CAjCkB,OAmCnBgB,MAnCmB,CAmCV,SAACC,IAAD,CAAU,CACjBvB,OAAO,CAACsB,MAAR,CAAeC,IAAf,EAAqBF,IAArB,CAA0B,SAACG,aAAD,CAAmB,CAC3C,MAAKf,QAAL,CAAc,CAAEe,aAAa,CAAbA,aAAF,CAAd,EACD,CAFD,EAGD,CAvCkB,CAEjB,MAAKnB,KAAL,CAAa,CACXmB,aAAa,CAAE,EADJ,CAEXR,YAAY,CAAE,YAFH,CAGXV,cAAc,CAAE,EAHL,CAAb,CAFiB,aAOlB,C,sCAkCD,iBAAS,CACP,mBACE,oCACE,wCACI,aAAM,SAAS,CAAC,WAAhB,iBADJ,SADF,cAIE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,SAAD,EAAW,QAAQ,CAAE,KAAKgB,MAA1B,EADF,cAEE,aAAK,SAAS,CAAC,cAAf,wBACE,KAAC,aAAD,EACE,aAAa,CAAE,KAAKjB,KAAL,CAAWmB,aAD5B,CAEE,KAAK,CAAE,KAAKrB,QAFd,EADF,cAKE,KAAC,QAAD,EACE,YAAY,CAAE,KAAKE,KAAL,CAAWW,YAD3B,CAEE,cAAc,CAAE,KAAKX,KAAL,CAAWC,cAF7B,CAGE,QAAQ,CAAE,KAAKI,WAHjB,CAIE,YAAY,CAAE,KAAKI,kBAJrB,CAKE,MAAM,CAAE,KAAKG,YALf,EALF,GAFF,GAJF,GADF,CAuBD,C,iBAlEerB,KAAK,CAAC6B,S,EAqExB,cAAexB,IAAf"},"metadata":{},"sourceType":"module"}